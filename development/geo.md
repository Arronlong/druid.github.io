# 地理查询

Druid支持根据原点和边界过滤特殊的空间索引列。

# 空间索引

在任何数据规范中，都可以选择提供空间维度。例如，对于JSON数据规范，可以按如下方式指定空间维度：

```json
"dataSpec" : {
    "format": "JSON",
    "dimensions": <some_dims>,
    "spatialDimensions": [
        {
            "dimName": "coordinates",
            "dims": ["lat", "long"]
        },
        ...
    ]
}
```

| 属性    | 描述                                                         | 需要？ |
| ------- | ------------------------------------------------------------ | ------ |
| dimName | 空间维度的名称。空间维度可以从多个其他维度构建，或者它可能已经作为事件的一部分存在。如果空间维度已存在，则它必须是坐标值数组。 | 是     |
| DIMS    | 包含空间维度的维名称列表。                                   | 没有   |

# 空间滤波器

空间过滤器的语法如下：

```json
"filter" : {
    "type": "spatial",
    "dimension": "spatialDim",
    "bound": {
        "type": "rectangular",
        "minCoords": [10.0, 20.0],
        "maxCoords": [30.0, 40.0]
    }
}
```

## 边界

### 长方形

| 属性      | 描述                                 | 需要？ |
| --------- | ------------------------------------ | ------ |
| minCoords | 坐标[x，y，z，...]的最小尺寸坐标列表 | 是     |
| maxCoords | 坐标[x，y，z，...]的最大尺寸坐标列表 | 是     |

### 半径

| 属性   | 描述                         | 需要？ |
| ------ | ---------------------------- | ------ |
| COORDS | 原点坐标形式为[x，y，z，...] | 是     |
| 半径   | 浮点半径值                   | 是     |